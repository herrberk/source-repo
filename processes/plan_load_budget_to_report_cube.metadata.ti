\u000D\u000A#****Begin: Generated Statements***\u000D\u000AOldCubeLogChanges = CUBEGETLOGCHANGES('plan_Report');\u000D\u000ACUBESETLOGCHANGES('plan_Report', 0);\u000D\u000A#****End: Generated Statements****\u000D\u000A\u000D\u000APunique_id=str(NOW,10,0);\u000D\u000A\u000D\u000A## Create a subset for the year selected##\u000D\u000AVmonth=1;\u000D\u000AVplan_time_SSN='budget_calendar'|Punique_id;\u000D\u000ASubsetCreate('plan_time', Vplan_time_SSN);\u000D\u000Awhile(Vmonth <=12);\u000D\u000Aif(Vmonth=1);\u000D\u000AVelement='Jan-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=2);\u000D\u000AVelement='Feb-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=3);\u000D\u000AVelement='Mar-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=4);\u000D\u000AVelement='Apr-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=5);\u000D\u000AVelement='May-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=6);\u000D\u000AVelement='Jun-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=7);\u000D\u000AVelement='Jul-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=8);\u000D\u000AVelement='Aug-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=9);\u000D\u000AVelement='Sep-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=10);\u000D\u000AVelement='Oct-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=11);\u000D\u000AVelement='Nov-'|Pyear;\u000D\u000Aendif;\u000D\u000Aif(Vmonth=12);\u000D\u000AVelement='Dec-'|Pyear;\u000D\u000Aendif;\u000D\u000ASubsetElementInsert('plan_time', Vplan_time_SSN, Velement, Vmonth);\u000D\u000AVmonth=Vmonth+1;\u000D\u000Aend;\u000D\u000A\u000D\u000A##create subset for given version##\u000D\u000AVplan_version_SSN='budget_version'|Punique_id;\u000D\u000ASubsetCreate('plan_version', Vplan_version_SSN);\u000D\u000ASubsetElementInsert('plan_version', Vplan_version_SSN, Pversion, 1);\u000D\u000A\u000D\u000A##create subset for plan exchange rate##\u000D\u000AVplan_exchange_rate_SSN='budget_exchange_rate'|Punique_id;\u000D\u000ASubsetCreate('plan_exchange_rates', Vplan_exchange_rate_SSN);\u000D\u000ASubsetElementInsert('plan_exchange_rates', Vplan_exchange_rate_SSN, 'Actual', 1);\u000D\u000A\u000D\u000A##create subset for plan_source##\u000D\u000AVplan_source_SSN='budget_source'|Punique_id;\u000D\u000ASubsetCreate('plan_source', Vplan_source_SSN);\u000D\u000ASubsetElementInsert('plan_source', Vplan_source_SSN, 'Budget', 1);\u000D\u000A\u000D\u000A##Create temp cube view as the source of the data to load###\u000D\u000AVplan_budget_TVN='Plan_BudgetPlan'|Punique_id;\u000D\u000AViewCreate('Plan_BudgetPlan', Vplan_budget_TVN);\u000D\u000A\u000D\u000AViewSetSkipZeroes('Plan_BudgetPlan', Vplan_budget_TVN, 1);\u000D\u000AViewSetSkipCalcs('Plan_BudgetPlan', Vplan_budget_TVN, 0);\u000D\u000AViewSetSkipRuleValues('Plan_BudgetPlan', Vplan_budget_TVN, 0);\u000D\u000A\u000D\u000AViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_time', Vplan_time_SSN);\u000D\u000AViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_version', Vplan_version_SSN);\u000D\u000AViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_business_unit', 'n level business unit');\u000D\u000AViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_department', 'n level departments');\u000D\u000AViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_chart_of_accounts', 'n level accounts');\u000D\u000AViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_exchange_rates', Vplan_exchange_rate_SSN);\u000D\u000AViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_source', Vplan_source_SSN);\u000D\u000A\u000D\u000AViewColumnDimensionSet('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_time', 1);\u000D\u000A\u000D\u000AViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_version', 1);\u000D\u000AViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_business_unit', 2);\u000D\u000AViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_department', 3);\u000D\u000AViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_chart_of_accounts', 4);\u000D\u000AViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_exchange_rates', 5);\u000D\u000AViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_source', 6);\u000D\u000A\u000D\u000Adata_source_CV = Vplan_budget_TVN;\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000ADatasourceCubeview = data_source_cv;\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A\u000D\u000A