\r\n#****Begin: Generated Statements***\r\nOldCubeLogChanges = CUBEGETLOGCHANGES('plan_Report');\r\nCUBESETLOGCHANGES('plan_Report', 0);\r\n#****End: Generated Statements****\r\n\r\nPunique_id=str(NOW,10,0);\r\n\r\n## Create a subset for the year selected##\r\nVmonth=1;\r\nVplan_time_SSN='budget_calendar'|Punique_id;\r\nSubsetCreate('plan_time', Vplan_time_SSN);\r\nwhile(Vmonth <=12);\r\nif(Vmonth=1);\r\nVelement='Jan-'|Pyear;\r\nendif;\r\nif(Vmonth=2);\r\nVelement='Feb-'|Pyear;\r\nendif;\r\nif(Vmonth=3);\r\nVelement='Mar-'|Pyear;\r\nendif;\r\nif(Vmonth=4);\r\nVelement='Apr-'|Pyear;\r\nendif;\r\nif(Vmonth=5);\r\nVelement='May-'|Pyear;\r\nendif;\r\nif(Vmonth=6);\r\nVelement='Jun-'|Pyear;\r\nendif;\r\nif(Vmonth=7);\r\nVelement='Jul-'|Pyear;\r\nendif;\r\nif(Vmonth=8);\r\nVelement='Aug-'|Pyear;\r\nendif;\r\nif(Vmonth=9);\r\nVelement='Sep-'|Pyear;\r\nendif;\r\nif(Vmonth=10);\r\nVelement='Oct-'|Pyear;\r\nendif;\r\nif(Vmonth=11);\r\nVelement='Nov-'|Pyear;\r\nendif;\r\nif(Vmonth=12);\r\nVelement='Dec-'|Pyear;\r\nendif;\r\nSubsetElementInsert('plan_time', Vplan_time_SSN, Velement, Vmonth);\r\nVmonth=Vmonth+1;\r\nend;\r\n\r\n##create subset for given version##\r\nVplan_version_SSN='budget_version'|Punique_id;\r\nSubsetCreate('plan_version', Vplan_version_SSN);\r\nSubsetElementInsert('plan_version', Vplan_version_SSN, Pversion, 1);\r\n\r\n##create subset for plan exchange rate##\r\nVplan_exchange_rate_SSN='budget_exchange_rate'|Punique_id;\r\nSubsetCreate('plan_exchange_rates', Vplan_exchange_rate_SSN);\r\nSubsetElementInsert('plan_exchange_rates', Vplan_exchange_rate_SSN, 'Actual', 1);\r\n\r\n##create subset for plan_source##\r\nVplan_source_SSN='budget_source'|Punique_id;\r\nSubsetCreate('plan_source', Vplan_source_SSN);\r\nSubsetElementInsert('plan_source', Vplan_source_SSN, 'Budget', 1);\r\n\r\n##Create temp cube view as the source of the data to load###\r\nVplan_budget_TVN='Plan_BudgetPlan'|Punique_id;\r\nViewCreate('Plan_BudgetPlan', Vplan_budget_TVN);\r\n\r\nViewSetSkipZeroes('Plan_BudgetPlan', Vplan_budget_TVN, 1);\r\nViewSetSkipCalcs('Plan_BudgetPlan', Vplan_budget_TVN, 0);\r\nViewSetSkipRuleValues('Plan_BudgetPlan', Vplan_budget_TVN, 0);\r\n\r\nViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_time', Vplan_time_SSN);\r\nViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_version', Vplan_version_SSN);\r\nViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_business_unit', 'n level business unit');\r\nViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_department', 'n level departments');\r\nViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_chart_of_accounts', 'n level accounts');\r\nViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_exchange_rates', Vplan_exchange_rate_SSN);\r\nViewSubsetAssign('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_source', Vplan_source_SSN);\r\n\r\nViewColumnDimensionSet('Plan_BudgetPlan', Vplan_budget_TVN, 'plan_time', 1);\r\n\r\nViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_version', 1);\r\nViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_business_unit', 2);\r\nViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_department', 3);\r\nViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_chart_of_accounts', 4);\r\nViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_exchange_rates', 5);\r\nViewRowDimensionSet('plan_budgetplan', Vplan_budget_TVN, 'plan_source', 6);\r\n\r\ndata_source_CV = Vplan_budget_TVN;\r\n\r\n\r\n\r\nDatasourceCubeview = data_source_cv;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n